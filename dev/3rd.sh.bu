#!/bin/sh
#
echo 'Get HW info and collect all the logs (that are not empty) to an index'

mkdir -p  ~/logs_hw
LOGS=~/logs_hw

echo 'Desktop/server/Laptop model /n /n ' > $LOGS/hardware_info.txt
#Thinkpad T540p
#Intel i7 

#cpu
grep CPU: /var/run/dmesg.boot > $LOGS/cpu_info.log

#gpu
#Optimus / dual gpu setup?
#check for all gpus seen by kernel
grep -i 'vga\|agp' /var/run/dmesg.boot >  $LOGS/gpu_info.log

#xrandr
xrandr  > $LOGS/xrandr.log

#Get information about system model and manufacturer
grep -i smbio /var/log/bsdinstall_log > $LOGS/model_manufacturer.log


echo $LOGS/model_manufacturer.log  > $LOGS/hardware_info.txt

echo 'Done '
